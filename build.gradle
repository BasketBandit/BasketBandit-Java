plugins {
    id 'application'
}

apply plugin: 'java'
apply plugin: 'idea'

group = 'com.yuuko.core'
version = '2019-08-13'
sourceCompatibility = 1.10
mainClassName = 'com.yuuko.core.Yuuko'

tasks.withType(JavaCompile) {
    options.encoding = 'UTF-8'
}

jar {
    doFirst {
        manifest {
            if(!configurations.compile.isEmpty()) {
                attributes(
                        'Class-Path': configurations.compile.collect { it.toURI().toString() }.join(' '),
                        'Main-Class': mainClassName
                )
            }
        }
    }
}

repositories {
    mavenCentral()
    mavenLocal()
    jcenter()
    maven { url = 'https://jitpack.io' }
}

ext {
    jdaVer                          = '4.0.0_39'
    //yuukoJdaVer                     = '57b4b3a3ef'
    lavaplayerVer                   = '1.3.20'
    jdanasVer                       = '1.1.0'
    lavalinkClientVer               = '0605139'
    //yuukoLavalinkClientVer          = 'jda4-SNAPSHOT'
    dblJavaWrapperVer               = '2.0.1'
    ddblAPIjavaVer                  = '0.4.4'
    googleApiServicesYoutubeVer     = 'v3-rev212-1.25.0'
    gsonVer                         = '2.8.5'
    jacksonAnnotationsVer           = '2.10.0.pr1'
    jacksonDatabindVer              = '2.10.0.pr1'
    okhttpVer                       = '4.1.0'
    jsoupVer                        = '1.12.1'
    mysqlConnectorJavaVer           = '8.0.17'
    hikaricpVer                     = '3.3.1'
    slf4jSimpleVer                  = '2.0.0-alpha0'
    reflectionsVer                  = '0.9.11'
}

dependencies {
    compile group: 'net.dv8tion', name: 'JDA', version: jdaVer
    //compile group: 'com.github.Yuuko-oh', name: 'JDA', version: yuukoJdaVer
    compile group: 'com.sedmelluq', name: 'lavaplayer', version: lavaplayerVer
    compile group: 'com.sedmelluq', name: 'jda-nas', version: jdanasVer
    compile group: 'com.github.FredBoat', name: 'Lavalink-Client', version: lavalinkClientVer
    //compile group: 'com.github.Yuuko-oh', name: 'Lavalink-Client', version: yuukoLavalinkClientVer
    compile group: 'com.github.DiscordBotList', name: 'DBL-Java-Wrapper', version: dblJavaWrapperVer
    compile group: 'com.github.BasketBandit', name: 'ddblAPI.java', version: ddblAPIjavaVer
    compile group: 'com.google.apis', name: 'google-api-services-youtube', version: googleApiServicesYoutubeVer
    compile group: 'com.google.code.gson', name: 'gson', version: gsonVer
    compile group: 'com.fasterxml.jackson.core', name: 'jackson-annotations', version: jacksonAnnotationsVer
    compile group: 'com.fasterxml.jackson.core', name: 'jackson-databind', version: jacksonDatabindVer
    compile group: 'com.squareup.okhttp3', name: 'okhttp', version: okhttpVer
    compile group: 'com.squareup.okhttp3', name: 'okhttp-brotli', version: okhttpVer
    compile group: 'org.jsoup', name: 'jsoup', version: jsoupVer
    compile group: 'mysql', name: 'mysql-connector-java', version: mysqlConnectorJavaVer
    compile group: 'com.zaxxer', name: 'HikariCP', version: hikaricpVer
    compile group: 'org.slf4j', name: 'slf4j-simple', version: slf4jSimpleVer
    compile group: 'org.reflections', name: 'reflections', version: reflectionsVer
}
